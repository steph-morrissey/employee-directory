(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{20:function(e,t,n){e.exports=n(46)},25:function(e,t,n){},26:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(13),o=n.n(l),c=(n(25),n(26),function(){return r.a.createElement("div",{className:"text-center py-3 bg-dark text-white"},r.a.createElement("h1",null,"Employee Directory"),r.a.createElement("p",null,"Click on carrots to filter by heading or use the search box to narrow results."))}),s=n(3),u=n.n(s),i=n(14),m=n(15),d=n(16),p=n(19),h=n(18),E=n(17),f=n.n(E),y=n(2),b=n.n(y),v=function(e){var t=e.onChange;return r.a.createElement("div",{class:"form-group mx-2"},r.a.createElement("input",{onChange:t,type:"text",class:"form-control",placeholder:"Search Employee"}))},g=function(e){var t,n,a,l=function(e){var t=e.title,n=e.first,a=e.last;return"".concat(t,". ").concat(n," ").concat(a)}(e.name);return r.a.createElement("tr",null,r.a.createElement("td",null,(n=e.picture.large,a=l,r.a.createElement("img",{src:n,alt:a,class:"img-thumbnail"}))),r.a.createElement("td",null,l),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.email),r.a.createElement("td",null,(t=e.dob.date,b()(t).format("DD-MM-YYYY"))))},k=function(e){var t=e.rows,n=e.onSortByDob;return r.a.createElement("div",{className:"container"},r.a.createElement("table",{class:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Phone"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col",onClick:n},"DOB"))),function(e){return r.a.createElement("tbody",null,e.map(g))}(t)))},D=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleOnChange=function(e){var t=a.state.employees,n=e.target.value,r=t.filter((function(e){var t=e.name.last;return e.name.first.includes(n)||t.includes(n)}));a.setState({employeesToRender:r})},a.handleSortByDob=function(){var e=a.state.employeesToRender.sort((function(e,t){return b()(e.dob.date).diff(t.dob.date)}));a.setState({employeesToRender:e})},a.state={employees:[],employeesToRender:[],loading:!0,error:""},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://randomuser.me/api/?results=10&nat=gb");case 2:t=e.sent,n=t.data,a=n.results,this.setState({employees:a,employeesToRender:a,loading:!1,error:""});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTable",value:function(){var e=this.state,t=e.loading,n=e.error,a=e.employeesToRender;return t||n?null:r.a.createElement(k,{rows:a,onSortByDob:this.handleSortByDob})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(v,{onChange:this.handleOnChange}),this.renderTable())}}]),n}(a.Component);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(D,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.eb781d7f.chunk.js.map